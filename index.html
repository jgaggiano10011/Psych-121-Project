<script Language="JavaScript">


function startit()
{
   count=0;
    correctCount= 0;
    incorrectCount = 0;
    questin = [];
    wrongins = [];

    document.getElementById('ansfeedback').style.display = 'none';
    document.getElementById('rtfeedback').style.display = 'none';
    document.getElementById('perfectScore').style.display = 'none';
    document.getElementById('finalDisplay').style.display = 'none';

    questin= ["What is the capital of Massachusetts?-Boston", 
    "What is the capital of California?-Sacramento", 
    "What is the capital of Oregon?-Salem",
    "What is the capital of Texas?-Austin", 
    "What is the capital of Idaho?-Boise"];


    wrongins= ["Springfield", "Denver", "Jacksonville", "Chicago", "Montgomery",  "Helena", "Juneau", "Lincoln", 
    "Carson City", "Concord", "Hartford", "Dover",  "Columbus", "Columbia", "Pierre", "Richmond", "Lansing", 
    "Olympia", "Charleston", "Madison"];

showprob();
}


function showprob()
{
   
   if (count < 5)
   {
     shuffle(questin);

     quest1 = questin[0];

     questAns1 = quest1.split("-");

     finalquest1 = questAns1[0];

     finalans1 = questAns1[1];

     DisplayQues(finalquest1);
 
     shuffle(wrongins);

     rightans=finalans1;

     multipleAns = [];

     multipleAns[0] = wrongins[0];
     multipleAns[1] = wrongins[1];
     multipleAns[2] = wrongins[2];
     multipleAns[3] = rightans;

     orderAns(multipleAns); 
 
     document.getElementById('ans1').innerHTML='d) ' + multipleAns[0];
     document.getElementById('ans1').style.width = "200px";
     document.getElementById('ans2').innerHTML='f) ' + multipleAns[1];
     document.getElementById('ans2').style.width = "200px";
     document.getElementById('ans3').innerHTML='k) ' + multipleAns[2];   
     document.getElementById('ans3').style.width = "200px";
     document.getElementById('ans4').innerHTML='l) ' + multipleAns[3];
     document.getElementById('ans4').style.width = "200px";
     
     
     document.getElementById('choiceAns').style.display = 'block';

     starttime = 0;
     starttime=new Date().getTime();
     questin.shift();

     
   } 
   
   else
   {
      percentCorrect = (correctCount/5) * 100;
      document.getElementById('finalDisplay').innerHTML = "You got " + percentCorrect + "% correct."
      document.getElementById('finalDisplay').style.display = 'block';
      if (percentCorrect == 100)
      {
         document.getElementById('perfectScore').innerHTML = "You are awesome."
         document.getElementById('perfectScore').style.display = 'block';
      }
   }
      
}

function orderAns(ansArray)
{
   x=0;
   x=Math.random();
   randPos=Math.floor(x*4);
   var temp2 = ansArray[3];
   ansArray[3] = ansArray[randPos];
   ansArray[randPos] = temp2;
   wrongAns = [];

  
   if (randPos == 0)
   {
      wrongAns[0] = ansArray[1];
      wrongAns[1] = ansArray[2];
      wrongAns[2] = ansArray[3];
      ansArray = [];
      shuffle(wrongAns);
      ansArray[0] = temp2;
      ansArray[1] = wrongAns[1];
      ansArray[2] = wrongAns[2];
      ansArray[3] = wrongAns[3];
      correctKey = 68;

   }
   if (randPos == 1)
   {
      wrongAns[0] = ansArray[0];
      wrongAns[1] = ansArray[2];
      wrongAns[2] = ansArray[3];
      ansArray = [];
      shuffle(wrongAns);
      ansArray[0] = wrongAns[0];
      ansArray[1] = temp2;
      ansArray[2] = wrongAns[2];
      ansArray[3] = wrongAns[3];
      correctKey = 70;
   }
   if (randPos == 2)
   {
      wrongAns[0] = ansArray[0];
      wrongAns[1] = ansArray[1];
      wrongAns[2] = ansArray[3];
      ansArray = [];
      shuffle(wrongAns);
      ansArray[0] = wrongAns[0];
      ansArray[1] = wrongAns[1];
      ansArray[2] = temp2;
      ansArray[3] = wrongAns[3];
      correctKey = 75;
   }
   if (randPos == 3)
   {
      wrongAns[0] = ansArray[0];
      wrongAns[1] = ansArray[1];
      wrongAns[2] = ansArray[2];
      ansArray = [];
      shuffle(wrongAns);
      ansArray[0] = wrongAns[0];
      ansArray[1] = wrongAns[1];
      ansArray[2] = wrongAns[2];
      ansArray[3] = temp2;
      correctKey = 76;
   }
}

function shuffle(array)
{
     for (var i = array.length - 1; i > 0; i--) 
     {
          var j = Math.floor(Math.random() * (i + 1));
          var temp = array [i];
          array[i] = array[j];
          array[j] = temp;
      }
}


function DisplayQues (question)
{
   document.getElementById('questions').innerHTML= question;
   document.getElementById('questions').style.display = 'block';
}



function runScript(e)
{
   valresp=0;

   if (e.keyCode == 68 || e.keyCode == 70 || e.keyCode == 75 || e.keyCode == 76 || e.keyCode == 32)
   {
      valresp=1;
   }

   if (valresp==1)
   {
      endtime = 0;
      endtime=new Date().getTime();
      resptime=endtime-starttime;
      resptime=resptime/1000;

      if (e.keyCode == correctKey)
      {
          document.getElementById('ansfeedback').innerHTML = 'YOU ARE CORRECT';
          document.getElementById('ansfeedback').style.color = '#228C22';
          document.getElementById('ansfeedback').style.fontWeight = 'bold';
          document.getElementById('ansfeedback').style.display = 'block';

          document.getElementById('rtfeedback').innerHTML = 'Your Response Time Was ' + resptime + ' Sec';
          document.getElementById('rtfeedback').style.color = '#228C22';
          document.getElementById('rtfeedback').style.fontWeight = 'bold';
          document.getElementById('rtfeedback').style.display = 'block';
          correctCount = correctCount + 1;
      
      }
      if (e.keyCode !== correctKey)
      {
          document.getElementById('ansfeedback').innerHTML = 'INCORRECT';
          document.getElementById('ansfeedback').style.color = '#FF0000';
          document.getElementById('ansfeedback').style.fontWeight = 'bold';
          document.getElementById('ansfeedback').style.display = 'block';

          document.getElementById('rtfeedback').innerHTML = 'Your Response Time Was ' + resptime + ' Sec';
          document.getElementById('rtfeedback').style.color = '#FF0000';
          document.getElementById('rtfeedback').style.fontWeight = 'bold';
          document.getElementById('rtfeedback').style.display = 'block';
          incorrectCount = incorrectCount + 1;    
      }
      if (e.keyCode == 32)
      {
         count = count + 1;
         document.getElementById('ansfeedback').style.display = 'none';
         document.getElementById('rtfeedback').style.display = 'none';
         showprob();
      }

   }
}


</script>




<body id='quiz' onkeyup="return runScript(event)">

<div id='intro' style='font-size:14pt; border:solid 3px; padding: 1px'>INSTRUCTIONS: Once the button is clicked, you will be presented with 5 multiple choice questions asking about the capitals of various states. Choose your answer by pressing the corresponding key on your keyboard. Click the space bar to move on to the next question</div><br>

<button id='startbutton' type='button' style='font-size:24pt;background:#ddffdd' onclick='this.blur();startit()'>Click Here to Start</button><br><br>



<div id='questions' style='font-size:14pt;display:none'></div><br>

<table id='choiceAns' border='0' table-layout=fixed' style='display:none'>
<tr><td><div id='ans1' style='font-size:12pt'></div></td>
<td><div id='ans2' style='font-size:12pt'></div></td>
<td><div id='ans3' style='font-size:12pt'></div></td>
<td><div id='ans4' style='font-size:12pt'></div></td></tr></table><br><br>

<div id='ansfeedback' style='font-size:12pt;display:none'></div><br>
<div id='rtfeedback' style='font-size:12pt;display:none' ></div><br><br>

<div id='finalDisplay' style='font-size:20pt;display:none' ></div><br>

<div id='perfectScore' style='font-size:20pt;display:none' ></div><br><br>
</form>
